var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n("kV9l4"),n("bUb57");const a=document.querySelector(".modal-start"),l=document.querySelector(".backdrop-start"),r=document.querySelector(".login-btn"),s=document.querySelector(".modal__button-x"),i=(document.querySelector("div[data-modal-start]"),document.querySelector('label[for="user_person"]'));console.log(i);const c=document.querySelector("#user_person");console.log(c);const d=document.querySelector('label[for="user_email"]'),u=document.querySelector("#user_email"),m=document.querySelector('label[for="user_password"]'),g=document.querySelector("#user_password");function y(){modal.style.display="block";document.getElementsByClassName("close")[0].onclick=function(){modal.style.display="none"}}function p(e){return cardMarkup=`\n      <ul class='bestseller-card'>\n      <div class = 'thumb'>\n         <img class='thumb__image' src='${e.book_image}' data-id='${e._id}'/>\n      <div class="thumb__overlay">\n              <p class="thumb__overlay-tex">QUICK VIEW</p>\n            </div> </div>\n      </li>\n      <ul class='bestseller-card__meta'>\n        <li class='bestseller-card__title'>${e.title}</li>\n        <li class='bestseller-card__author'>${e.author}</li>\n      </ul\n      \n      </li>\n      </ul>\n    `}function f(){let e=document.querySelectorAll(".thumb__image");for(image of e)image.addEventListener("click",(e=>{console.log("dasdsadsa:",e.target.dataset.id),y(e.target.dataset.id);document.getElementById("bookInfo").insertAdjacentHTML("beforeend",`\n\n        <div class='pop_wrapper'>\n        <h2 class="pop_name">\n        ${e.target.dataset.title}\n        </h2>\n        <p class="pop_author">hello</p>\n        <p class="pop_description">\n        \n        </p>\n        <ul class="pop_shop list"></ul>\n        </div>`)}))}c.addEventListener("focus",(e=>console.log(i.style.top="5%"))),u.addEventListener("focus",(e=>console.log(d.style.top="5%"))),g.addEventListener("focus",(e=>console.log(m.style.top="5%"))),a.addEventListener("submit",(function(e){e.preventDefault(),function(){let e=!0;return""===c.value.trim()?(c.classList.add("modal-form__field-input--error"),e=!1):c.classList.remove("modal-form__field-input--error"),""!==u.value.trim()&&u.checkValidity()?u.classList.remove("modal-form__field-input--error"):(u.classList.add("modal-form__field-input--error"),e=!1),""===g.value.trim()||g.length<5||g.value.length>12?(g.classList.add("modal-form__field-input--error"),e=!1):g.classList.remove("modal-form__field-input--error"),e}()?(console.log("Form send!"),l.classList.add("is-hidden-start"),l.style.display="none"):console.log("Error!")})),r.addEventListener("click",(e=>{a.style.display="block"})),s.addEventListener("click",(e=>{a.style.display="none"})),(()=>{const e={openModalBtnSingUp:document.querySelector("button[data-modal-start-open--sing-up]"),closeModalBtnXClose:document.querySelector("button[data-modal-start-close]"),formEl:document.querySelector("[data-modal-start]")};function t(){e.formEl.classList.toggle("is-hidden-start"),e.formEl.classList.toggle("display")}e.openModalBtnSingUp.addEventListener("click",t),e.closeModalBtnXClose.addEventListener("click",t)})(),n("fF5e9"),n("lsbs5"),n("i9TW1"),window.onclick=function(e){e.target==modal&&(modal.style.display="none")},window.addEventListener("keydown",(e=>{"Escape"===e.key&&(modal.style.display="none")}));const b={allCategoryContainer:document.querySelector(".bestSellers__container"),bestsellerContainer:document.querySelector(".bestSellers"),sectionTitle:document.querySelector(".section-title"),cardsQuantityByCategory:1,tabletWidth:768,pcWidth:1440};function _(){return!(!localStorage.getItem("selected-category")||"undefined"==localStorage.getItem("selected-category"))}function h(){return document.documentElement.clientWidth}function v(){let e=document.querySelectorAll(".button__see-more");for(button of e)button.addEventListener("click",(e=>{localStorage.setItem("selected-category",e.target.dataset.category),console.log("Вибрана категорія:",localStorage.getItem("selected-category")),w()}))}function k(){let e=document.querySelectorAll(".categories__item");for(link of e)link.addEventListener("click",(e=>{console.log(e.target),localStorage.setItem("selected-category",e.target.dataset.category),console.log("Вибрана категорія:",localStorage.getItem("selected-category")),w()}))}const L=async()=>{if(_()){const e=await fetch(`https://books-backend.p.goit.global/books/category?category=${localStorage.getItem("selected-category")}`);return await e.json()}{const e=await fetch("https://books-backend.p.goit.global/books/top-books");return await e.json()}},S=async()=>{if(cardsQuantityByCategory=1,h()>=b.tabletWidth&&(b.cardsQuantityByCategory=3),h()>=b.pcWidth&&(b.cardsQuantityByCategory=5),_()){return await L().then((e=>e.map((e=>e))))}return await L().then((e=>e.map((e=>e.books.filter((e=>e.rank<=b.cardsQuantityByCategory))))))};async function w(){b.allCategoryContainer.innerHTML="",_()?(b.sectionTitle.innerHTML="",b.sectionTitle.insertAdjacentHTML("afterbegin",function(e){let t=e.split(" "),o=e.substr(t[0].length);return`<span class="section-title">${t[0]}</span>\n  <span class='section-title--highlight'>${o}</span>`}(localStorage.getItem("selected-category"))),async function(){promise=await S(),categoryContainer=document.createElement("div"),categoryContainer.classList.add("category-container");for(let t=0;t<promise.length;t++)e=promise[t],cardMarkup=`\n      <ul class='bestseller-card --margin'>\n      <div class = 'thumb'>\n         <img class='thumb__image' src='${e.book_image}' data-id='${e._id}'/>\n      <div class="thumb__overlay">\n              <p class="thumb__overlay-text">QUICK VIEW</p>\n            </div> </div>\n      </li>\n      <ul class='bestseller-card__meta'>\n        <li class='bestseller-card__title'>${e.title}</li>\n        <li class='bestseller-card__author'>${e.author}</li>\n      </ul\n      \n      </li>\n      </ul>\n    `,categoryContainer.insertAdjacentHTML("beforeend",cardMarkup);var e;b.allCategoryContainer.insertAdjacentElement("beforeend",categoryContainer),v(),f(),k()}()):async function(){let e;promise=await S(),b.sectionTitle.innerHTML="",b.sectionTitle.insertAdjacentHTML("afterbegin",'<span>BestSellers<span><span class="section-title--highlight">Books</span>');for(let t=0;t<promise.length;t++)categoryContainer=document.createElement("div"),categoryContainer.classList.add("category-container"),promise[t].map((t=>{e=t.list_name,p(t),categoryContainer.insertAdjacentHTML("beforeend",cardMarkup)})),categoryContainer.insertAdjacentHTML("afterbegin",`<h3 class="category-title">${e}</h3>`),categoryContainer.insertAdjacentHTML("beforeend",cardMarkup=`\n    <button class='button__see-more' type='button' data-category='${e}'>See more</button>\n  `),b.allCategoryContainer.insertAdjacentElement("beforeend",categoryContainer);v(),f(),k()}()}w(),function(){let e;e=h()<768?375:h()>=768&&h()<1440?768:1440,addEventListener("resize",(t=>{(window.innerWidth>767&&e<768||window.innerWidth>1439&&e<1440||window.innerWidth<1440&&e>1439||window.innerWidth<768&&e>767)&&location.reload()}))}(),n("ekGlS"),n("lJ5oQ");
//# sourceMappingURL=index.9d180cf1.js.map
