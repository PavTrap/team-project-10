!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},e={},t=n.parcelRequired7c6;null==t&&((t=function(n){if(n in o)return o[n].exports;if(n in e){var t=e[n];delete e[n];var a={id:n,exports:{}};return o[n]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,o){e[n]=o},n.parcelRequired7c6=t),t.register("88W0g",(function(n,o){var e=document.querySelector("#info-block");if(null===localStorage.getItem("shoppingList")){console.log("5555555");localStorage.setItem("shoppingList",JSON.stringify([]))}var t=localStorage.getItem("shoppingList");shoppingList=JSON.parse(t),localStorage.removeItem("shoppingList"),shoppingList=[];fetch("https://books-backend.p.goit.global/books/top-books").then((function(n){return n.json()})).then((function(n){n.map((function(n){for(var o=n.books,e=0;e<2;e++){var t=o[e];shoppingList.push(t)}})),localStorage.setItem("shoppingList",JSON.stringify(shoppingList));var o=localStorage.getItem("shoppingList");a(JSON.parse(o))}));function a(n){console.log(n.length),0===n.length?function(){i();var n='<li><p>"This page is empty, add some books and proceed to order."</p><img src="./images/IMG_9606 1.png" alt=""></li>';e.insertAdjacentHTML("afterbegin",n)}():n.length>=0&&function(n){i();for(var o="",t="",r="",s=0;s<n.length;s++){for(var l=n[s],c=l.buy_links,p=0;p<c.length;p++)"Amazon"===c[p].name&&(o=c[p].url),"Apple Books"===c[p].name&&(t=c[p].url),"Bookshop"===c[p].name&&(r=c[p].url);var g='<li class="book-card '.concat(l._id,'" >\n      <img src="').concat(l.book_image,'" alt="" />\n      <div class="info">\n        <div class="header-card">\n          <div>\n            <h2>').concat(l.title,"</h2>\n            <p>").concat(l.list_name,'</p>\n          </div>\n          <button class="button" data-index="').concat(s,'">\n            <img src="./images/dump.png" alt="" />\n          </button>\n        </div>\n        <p>').concat(l.description,'</p>\n        <div class="footer-card">\n          <p>').concat(l.author,'</p>\n          <ul class="book-shops">\n            <li>\n              <a\n                class="book-shop"\n                href="').concat(o,'"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Amazon"\n              >\n                <img src="./images/amazon.png" alt="Іконка Amazon" />\n              </a>\n            </li>\n            <li>\n              <a\n                class="book-shop"\n                href="').concat(t,'"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Apple Books"\n              >\n                <img src="./images/openbook.png" alt="Іконка Apple Books" />\n              </a>\n            </li>\n            <li>\n              <a\n                class="book-shop"\n                href="').concat(r,'"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Bookshop"\n              >\n                <img src="./images/bookshop.png" alt="Іконка Bookshop" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>');e.insertAdjacentHTML("afterbegin",g)}document.querySelectorAll(".button").forEach((function(o){o.addEventListener("click",(function(){var e=o.dataset.index;n.splice(e,1),localStorage.setItem("shoppingList",JSON.stringify(n)),console.log(n),a(n)}))}))}(n)}function i(){e.innerHTML=""}})),t("88W0g")}();
//# sourceMappingURL=shoppinglist.6237a620.js.map
