function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"5ZPII":"index.7432a2fe.js","bslXZ":"Save_children-2x.688b6dc7.png","hWa0f":"project-hope2x.5ac714fa.png","iIxtT":"united-2x.d41967f5.png","4ZZtZ":"imc-2x.2c438457.png","5BQo0":"msf-2x.89950815.png","11Jrw":"razom-2x.49347143.png","3q9Eu":"AAH-2x.b350b402.png","kQFLA":"world-vision-2x.39ac4395.png","feW4m":"prytula-2x.b3afcdef.png"}'));var a;a=new URL(r("kyEFX").resolve("bslXZ"),import.meta.url).toString();var l;l=new URL(r("kyEFX").resolve("hWa0f"),import.meta.url).toString();var i;i=new URL(r("kyEFX").resolve("iIxtT"),import.meta.url).toString();var s;s=new URL(r("kyEFX").resolve("4ZZtZ"),import.meta.url).toString();var c;c=new URL(r("kyEFX").resolve("5BQo0"),import.meta.url).toString();var d;d=new URL(r("kyEFX").resolve("11Jrw"),import.meta.url).toString();var u;u=new URL(r("kyEFX").resolve("3q9Eu"),import.meta.url).toString();var g;g=new URL(r("kyEFX").resolve("kQFLA"),import.meta.url).toString();var m;m=new URL(r("kyEFX").resolve("feW4m"),import.meta.url).toString();const p=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:new URL(a)},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:new URL(l)},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:new URL(i)},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:new URL(s)},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:new URL(c)},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:new URL(d)},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:new URL(u)},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:new URL(g)},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:new URL(m)}],f={categoriesList:document.querySelector(".categories__list")};f.categoriesList.style.listStyle="none";fetch("https://books-backend.p.goit.global/books/category-list").then((e=>e.json())).then((e=>{const t=e.map((({list_name:e})=>`<li class = "categories__item"><a href = "" data-category = "${e}" class = "categories__link">${e}</a></li>`));return f.categoriesList.insertAdjacentHTML("beforeend",t.join("")),console.log(t),t}));const h=document.querySelector(".switch_input");console.log(h);"dark"==localStorage.getItem("theme")&&document.body.classList.add("dark-theme"),h.addEventListener("click",(function(){document.body.classList.toggle("dark-theme");let e="light";document.body.classList.contains("dark-theme")&&(e="dark"),localStorage.setItem("theme",e)}));const y=document.querySelector("#info-block");if(null===localStorage.getItem("shoppingList")){console.log("5555555");let e=[];localStorage.setItem("shoppingList",JSON.stringify(e))}const b=localStorage.getItem("shoppingList");shoppingList=JSON.parse(b),localStorage.removeItem("shoppingList"),shoppingList=[];fetch("https://books-backend.p.goit.global/books/top-books").then((e=>e.json())).then((e=>{e.map((({books:e})=>{for(let t=0;t<2;t++){let n=e[t];shoppingList.push(n)}})),localStorage.setItem("shoppingList",JSON.stringify(shoppingList));const t=localStorage.getItem("shoppingList");_(JSON.parse(t))}));function _(e){console.log(e.length),0===e.length?function(){k();const e='<li><p>"This page is empty, add some books and proceed to order."</p><img src="./images/IMG_9606 1.png" alt=""></li>';y.insertAdjacentHTML("afterbegin",e)}():e.length>=0&&function(e){k();let t="",n="",o="";for(let r=0;r<e.length;r++){const a=e[r];let l=a.buy_links;for(let e=0;e<l.length;e++)"Amazon"===l[e].name&&(t=l[e].url),"Apple Books"===l[e].name&&(n=l[e].url),"Bookshop"===l[e].name&&(o=l[e].url);const i=`<li class="book-card ${a._id}" >\n      <img src="${a.book_image}" alt="" />\n      <div class="info">\n        <div class="header-card">\n          <div>\n            <h2>${a.title}</h2>\n            <p>${a.list_name}</p>\n          </div>\n          <button class="button" data-index="${r}">\n            <img src="./images/dump.png" alt="" />\n          </button>\n        </div>\n        <p>${a.description}</p>\n        <div class="footer-card">\n          <p>${a.author}</p>\n          <ul class="book-shops">\n            <li>\n              <a\n                class="book-shop"\n                href="${t}"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Amazon"\n              >\n                <img src="./images/amazon.png" alt="Іконка Amazon" />\n              </a>\n            </li>\n            <li>\n              <a\n                class="book-shop"\n                href="${n}"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Apple Books"\n              >\n                <img src="./images/openbook.png" alt="Іконка Apple Books" />\n              </a>\n            </li>\n            <li>\n              <a\n                class="book-shop"\n                href="${o}"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Bookshop"\n              >\n                <img src="./images/bookshop.png" alt="Іконка Bookshop" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>`;y.insertAdjacentHTML("afterbegin",i)}document.querySelectorAll(".button").forEach((t=>{t.addEventListener("click",(()=>{const n=t.dataset.index;e.splice(n,1),localStorage.setItem("shoppingList",JSON.stringify(e)),console.log(e),_(e)}))}))}(e)}function k(){y.innerHTML=""}(()=>{const e={openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),body:document.querySelector("body")};function t(){e.menu.classList.toggle("mobile-is-hidden"),e.body.classList.toggle("no-scroll")}e.openMenuBtn.addEventListener("click",t),e.closeMenuBtn.addEventListener("click",t)})();document.getElementById("open-modal").onclick=function(e){const t=document.getElementById("modal"),n=document.getElementById("bookInfo");n.innerHTML="",async function(e){try{const t=await fetch(`https://books-backend.p.goit.global/books/${e}`);return await t.json()}catch(e){console.error(e)}}(e).then((e=>{const t=document.createElement("h3");t.innerText=e.title;const o=document.createElement("p");o.innerText=`Автор: ${e.author}`;const r=document.createElement("p");r.innerText=`Опис: ${e.description}`,n.appendChild(t),n.appendChild(o),n.appendChild(r)})),t.style.display="block";document.getElementsByClassName("close")[0].onclick=function(){t.style.display="none"}},window.onclick=function(e){e.target==modal&&(modal.style.display="none")},window.addEventListener("keydown",(e=>{"Escape"===e.key&&(modal.style.display="none")}));const L=document.querySelector(".modal-start"),w=document.querySelector(".backdrop"),S=document.querySelector('label[for="user_person"]');console.log(S);const v=document.querySelector("#user_person");console.log(v);const E=document.querySelector('label[for="user_email"]'),A=document.querySelector("#user_email"),H=document.querySelector('label[for="user_password"]'),R=document.querySelector("#user_password");v.addEventListener("focus",(e=>console.log(S.style.top="5%"))),A.addEventListener("focus",(e=>console.log(E.style.top="5%"))),R.addEventListener("focus",(e=>console.log(H.style.top="5%"))),L.addEventListener("submit",(function(e){e.preventDefault(),function(){let e=!0;return""===v.value.trim()?(v.classList.add("modal-form__field-input--error"),e=!1):v.classList.remove("modal-form__field-input--error"),""!==A.value.trim()&&A.checkValidity()?A.classList.remove("modal-form__field-input--error"):(A.classList.add("modal-form__field-input--error"),e=!1),""===R.value.trim()||R.length<5||R.value.length>12?(R.classList.add("modal-form__field-input--error"),e=!1):R.classList.remove("modal-form__field-input--error"),e}()?(console.log("Form send!"),w.classList.add("is-hidden")):console.log("Error!")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(L.style.display="none",w.style.display="none")}));const $=document.querySelector(".foundation__list");document.querySelector(".foundation__btn"),document.querySelector(".slider"),document.querySelectorAll(".foundation__item");console.log($),console.log(p.length),$.innerHTML=p.map((({title:e,url:t,img:n,number:o})=>`<li class= 'foundation__item'> \n        <p class = "foundation__count"> 0${o} </p>\n        <a href="${t}" "foundation__link">\n        <img src="${n}" alt="${e}" width=110 height=33>\n        </a>\n        </li>`)).join("");const q={allCategoryContainer:document.querySelector(".bestSellers__container"),cardsQuantityByCategory:1,tabletWidth:768};function F(){return document.documentElement.clientWidth}const I=async()=>{F()>=q.tabletWidth&&(q.cardsQuantityByCategory=3);return await(async()=>{const e=await fetch("https://books-backend.p.goit.global/books/top-books");return await e.json()})().then((e=>e.map((e=>e.books.filter((e=>e.rank<=q.cardsQuantityByCategory))))))};function x(e){return q.cardMarkup=`\n    <ul class='shop-card'>\n    <li class='shop-card__category'>${e.list_name}</li>\n    <li class='image-block'>\n        <img class='image-block__image' src='${e.book_image}' data-id='${e._id}'/>\n    </li>\n    <ul class='shop-card__meta'>\n      <li class='shop-card__title'>${e.title}</li>\n      <li class='shop-card__author'>${e.author}</li>\n    </ul\n    <li><button class='button' type='button' data-category='${e.list_name}'>See more</button>\n    </li>\n    </ul>\n  `}function M(e){return q.cardMarkup=`\n    <ul class='shop-card'>\n    <li class='image-block'>\n    <img class='image-block__image' src='${e.book_image}' data-id='${e._id}'/>\n    </li>\n    <ul class='shop-card__meta'>\n      <li class='shop-card__title'>${e.title}</li>\n      <li class='shop-card__author'>${e.author}</li>\n    </ul\n    \n    </li>\n    </ul>\n  `}!async function(){promise=await I();for(let t=0;t<promise.length;t++){let n;categoryContainer=document.createElement("div"),categoryContainer.classList.add("category-container"),promise[t].map((e=>{n=e.list_name,F()>=q.tabletWidth?(M(e),categoryContainer.insertAdjacentHTML("beforeend",q.cardMarkup)):(x(e),categoryContainer.insertAdjacentHTML("beforeend",q.cardMarkup))})),F()>=q.tabletWidth&&(categoryContainer.insertAdjacentHTML("afterbegin",`<h3 class="category-title">${n}</h3>`),categoryContainer.insertAdjacentHTML("beforeend",(e=n,q.cardMarkup=`\n    <button class='button' type='button' data-category='${e}'>See more</button>\n  `))),q.allCategoryContainer.insertAdjacentElement("beforeend",categoryContainer)}var e;!function(){let e=document.querySelectorAll(".button");for(button of e)button.addEventListener("click",(e=>{localStorage.setItem("selected-category",e.target.dataset.category),console.log("Вибрана категорія:",localStorage.getItem("selected-category"))}))}(),function(){let e=document.querySelectorAll(".image-block__image");for(image of e)image.addEventListener("click",(e=>{localStorage.setItem("selected-id",e.target.dataset.id),console.log("Вибрана книга з ID:",localStorage.getItem("selected-id"))}))}()}();
//# sourceMappingURL=index.7432a2fe.js.map
