{"mappings":"oeAAAA,EAAA,S,WCAA,MAAMC,EAAO,CACZC,eAAgBC,SAASC,cAAc,sBAExCH,EAAKC,eAAeG,MAAMC,UAAY,OAEnBC,MAAM,2DACxBC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACL,MAAMC,EAAQD,EAAKE,KAAI,EAACC,UAAEA,KACnB,0EAA0EA,eAIjF,OAFAb,EAAKC,eAAea,mBAAmB,YAAaH,EAAMI,KAAK,KAC/DC,QAAQC,IAAIN,GACLA,CAAK,I,WCbZ,MACC,MAAMO,EAAO,CACXC,YAAajB,SAASC,cAAc,oBACpCiB,aAAclB,SAASC,cAAc,qBACrCkB,KAAMnB,SAASC,cAAc,eAC7BmB,KAAMpB,SAASC,cAAc,SAQ/B,SAASoB,IACPL,EAAKG,KAAKG,UAAUC,OAAO,aAC3BP,EAAKI,KAAKE,UAAUC,OAAO,Y,CAN7BP,EAAKC,YAAYO,iBAAiB,QAASH,GAC3CL,EAAKE,aAAaM,iBAAiB,QAASH,GAC5CL,EAAKS,SAASD,iBAAiB,SAM/B,WACER,EAAKG,KAAKG,UAAUI,IAAI,aACxBV,EAAKI,KAAKE,UAAUK,OAAO,Y,GAE9B,EArBA,GCKK,MAAAC,EAAO,CACXC,qBAAsB7B,SAASC,cAAc,2BAC7C6B,wBAAyB,EACzBC,YAAa,KAKC,SAAPC,IACP,OAAOhC,SAASiC,gBAAgBC,W,CA0B1B,MAUFC,EAAoBC,UACpBJ,KAAsBJ,EAAKG,cAC7BH,EAAKE,wBAA0B,GAWjC,YAvBgBM,WAChB,MAAM9B,QAAiBF,MACrB,uDAGF,aADmBE,EAASC,MACjB,EASQ8B,GAAYhC,MAAKiC,GACnBA,EAAK5B,KAAI6B,GACCA,EAAMC,MAAMC,QAAOjC,GACjCA,EAAKkC,MAAQd,EAAKE,6BAMpB,EAKM,SAAVa,EAAkBC,GACzB,OAAQhB,EAAKiB,WAAa,qEAEUD,EAAIjC,8FAEKiC,EAAIE,wBAAwBF,EAAIG,2FAG1CH,EAAII,mDACHJ,EAAIK,sFAEoBL,EAAIjC,wD,CAKlE,SAASuC,EAAkBN,GACzB,OAAQhB,EAAKiB,WAAa,wGAGeD,EAAIE,wBAAwBF,EAAIG,2FAGtCH,EAAII,mDACHJ,EAAIK,uD,EAetBb,iBAClBe,cAAgBhB,IAChB,IAAK,IAAIiB,EAAI,EAAGA,EAAID,QAAQE,OAAQD,IAAK,CAGvC,IAAIE,EAFJC,kBAAoBvD,SAASwD,cAAc,OAC3CD,kBAAkBjC,UAAUI,IAAI,sBAEhCyB,QAAQC,GAAG1C,KAAIkC,IACbU,EAAkBV,EAAIjC,UAClBqB,KAAsBJ,EAAKG,aAC7BmB,EAAkBN,GAClBW,kBAAkB3C,mBAAmB,YAAagB,EAAKiB,cAEvDF,EAAkBC,GAClBW,kBAAkB3C,mBAAmB,YAAagB,EAAKiB,Y,IAGvDb,KAAsBJ,EAAKG,cAC7BwB,kBAAkB3C,mBAChB,aACA,8BAA8B0C,UAEhCC,kBAAkB3C,mBAChB,aA9Bc6C,EA+BDH,EA9BX1B,EAAKiB,WAAa,6DAC8BY,8BAgCtD7B,EAAKC,qBAAqB6B,sBACxB,YACAH,kB,CApCN,IAAsBE,GAnFtB,WACE,IAAIE,EAAc3D,SAAS4D,iBAAiB,WAC5C,IAAKC,UAAUF,EACbE,OAAOrC,iBAAiB,SAASsC,IAC/BC,aAAaC,QAAQ,oBAAqBF,EAAEG,OAAOC,QAAQT,UAC3D3C,QAAQC,IACN,qBACgBgD,aAAHI,QAAQ,qBACtB,G,CAkHLC,GA9GF,WACE,IAAIC,EAAYrE,SAAS4D,iBAAiB,uBAC1C,IAAKU,SAASD,EACZC,MAAM9C,iBAAiB,SAASsC,IAC9BC,aAAaC,QAAQ,cAAeF,EAAEG,OAAOC,QAAQK,IACrDzD,QAAQC,IAAI,sBAAoCgD,aAAaI,QAAQ,eAAe,G,CA0GxFK,E,CAIFC,GC/IYzE,SAAS0E,eAAe,cAchCC,QAAU,SAAmBJ,GAC7B,MAAMK,EAAQ5E,SAAS0E,eAAe,SAChCG,EAAW7E,SAAS0E,eAAe,YAGXG,EAArBC,UAAY,GAhBA1C,eAAEmC,GACvB,IACI,MAAMjE,QAAiBF,MAAM,6CAA6CmE,KAE1E,aADmBjE,EAASC,M,CAE9B,MAAOwE,GACLjE,QAAQiE,MAAMA,E,EAawBC,CAA9BT,GAAIlE,MAAMG,IAClB,MAAMwC,EAAQhD,SAASwD,cAAc,MACrCR,EAAMiC,UAAYzE,EAAKwC,MAEvB,MAAMC,EAASjD,SAASwD,cAAc,KACtCP,EAAOgC,UAAY,UAACzE,EAAcyC,SAE7B,MAACiC,EAAclF,SAASwD,cAAc,KAC3C0B,EAAYD,UAAY,SAACzE,EAAY0E,cAEjCL,EAAKM,YAAYnC,GACrB6B,EAASM,YAAYlC,GACrB4B,EAASM,YAAYD,EAAY,IAIbN,EAAlB1E,MAAMkF,QAAU,QAGFpF,SAASqF,uBAAuB,SAAS,GACjDV,QAAU,WAClBC,EAAM1E,MAAMkF,QAAU,M,GAI9BE,OAAOX,QAAU,SAAUY,GACnBA,EAAMtB,QAAUW,QAChBA,MAAM1E,MAAMkF,QAAU,O,EAI9BE,OAAO9D,iBAAiB,WAAW+D,IACb,WAAdA,EAAMC,MACNZ,MAAM1E,MAAMkF,QAAU,OAAM","sources":["src/index.js","src/js/categories.js","src/js/header.js","src/js/bestsellers.js","src/js/modal-window.js"],"sourcesContent":["import './js/array_foundation';\nimport './js/markup-foundation';\nimport './js/categories';\nimport './shoppinglist';\nimport './js/header';\n\nimport './js/bestsellers';\n\nimport './js/modal-window';\n","const refs = {\n\tcategoriesList: document.querySelector('.categories__list'),\n};\nrefs.categoriesList.style.listStyle = 'none';\n\nconst fetchArray = fetch('https://books-backend.p.goit.global/books/category-list')\n.then(response => response.json())\n.then(data => {\n\tconst array = data.map(({ list_name }) => {\n\treturn `<li class = \"categories__item\"><a href = \"\" class = \"categories__link\">${list_name}</a></li>`\n\t})\n\trefs.categoriesList.insertAdjacentHTML('beforeend', array.join(''));\n\tconsole.log(array)\n\treturn array;\n});\n\n","(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n    body: document.querySelector('body'),\n    // menuList: document.querySelector('.mob-menu-list'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n  refs.menuList.addEventListener('click', removeMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    refs.body.classList.toggle('no-scroll');\n  }\n  function removeMenu() {\n    refs.menu.classList.add('is-hidden');\n    refs.body.classList.remove('no-scroll');\n  }\n})();","//------------------Імпорт пакетів/стилі/шаблонів\n\n//------------------Імпорт пакетів/стилі/шаблонів\n\n//------------------Змінні\nconst refs = {\n  allCategoryContainer: document.querySelector('.bestSellers__container'),\n  cardsQuantityByCategory: 1,\n  tabletWidth: 768,\n};\n//------------------Змінні\n\n//------------------Додаткові функції\nfunction checkWindowWidth() {\n  return document.documentElement.clientWidth;\n}\nfunction seeMoreButtonsHandler() {\n  let buttonsList = document.querySelectorAll('.button');\n  for (button of buttonsList) {\n    button.addEventListener('click', e => {\n      localStorage.setItem('selected-category', e.target.dataset.category);\n      console.log(\n        'Вибрана категорія:',\n        localStorage.getItem('selected-category')\n      );\n    });\n  }\n}\nfunction imageButtonsHandler() {\n  let imageList = document.querySelectorAll('.image-block__image');\n  for (image of imageList) {\n    image.addEventListener('click', e => {\n      localStorage.setItem('selected-id', e.target.dataset.id);\n      console.log('Вибрана книга з ID:', localStorage.getItem('selected-id'));\n    });\n  }\n}\n//------------------Додаткові функції\n\n//------------------Запрос на API\nconst fetchBook = async () => {\n  const response = await fetch(\n    `https://books-backend.p.goit.global/books/top-books`\n  );\n  const book = await response.json();\n  return book;\n};\n//------------------Запрос на API\n\n//------------------Функція запроса даних по ТОП книгам в категорії\nconst fetchedArrayByTop = async () => {\n  if (checkWindowWidth() >= refs.tabletWidth) {\n    refs.cardsQuantityByCategory = 3;\n  }\n  const data = await fetchBook().then(item => {\n    const result = item.map(value => {\n      const filteredByRank = value.books.filter(data => {\n        return data.rank <= refs.cardsQuantityByCategory;\n      });\n      return filteredByRank;\n    });\n    return result;\n  });\n  return data;\n};\n//------------------Функція запроса даних по ТОП книгам в категорії\n\n//------------------Шаблон рендера карток\nfunction mobileRenderByTop(obj) {\n  return (refs.cardMarkup = `\n    <ul class='shop-card'>\n    <li class='shop-card__category'>${obj.list_name}</li>\n    <li class='image-block'>\n        <img class='image-block__image' src='${obj.book_image}' data-id='${obj._id}'/>\n    </li>\n    <ul class='shop-card__meta'>\n      <li class='shop-card__title'>${obj.title}</li>\n      <li class='shop-card__author'>${obj.author}</li>\n    </ul\n    <li><button class='button' type='button' data-category='${obj.list_name}'>See more</button>\n    </li>\n    </ul>\n  `);\n}\nfunction tabletRenderByTop(obj) {\n  return (refs.cardMarkup = `\n    <ul class='shop-card'>\n    <li class='image-block'>\n    <img class='image-block__image' src='${obj.book_image}' data-id='${obj._id}'/>\n    </li>\n    <ul class='shop-card__meta'>\n      <li class='shop-card__title'>${obj.title}</li>\n      <li class='shop-card__author'>${obj.author}</li>\n    </ul\n    \n    </li>\n    </ul>\n  `);\n}\nfunction renderButton(category) {\n  return (refs.cardMarkup = `\n    <button class='button' type='button' data-category='${category}'>See more</button>\n  `);\n}\n//------------------Шаблон рендера карток\n\n//------------------Фукнція рендера карток\nasync function renderFetch() {\n  promise = await fetchedArrayByTop();\n  for (let i = 0; i < promise.length; i++) {\n    categoryContainer = document.createElement('div');\n    categoryContainer.classList.add('category-container');\n    let currentCategory;\n    promise[i].map(obj => {\n      currentCategory = obj.list_name;\n      if (checkWindowWidth() >= refs.tabletWidth) {\n        tabletRenderByTop(obj);\n        categoryContainer.insertAdjacentHTML('beforeend', refs.cardMarkup);\n      } else {\n        mobileRenderByTop(obj);\n        categoryContainer.insertAdjacentHTML('beforeend', refs.cardMarkup);\n      }\n    });\n    if (checkWindowWidth() >= refs.tabletWidth) {\n      categoryContainer.insertAdjacentHTML(\n        'afterbegin',\n        `<h3 class=\"category-title\">${currentCategory}</h3>`\n      );\n      categoryContainer.insertAdjacentHTML(\n        'beforeend',\n        renderButton(currentCategory)\n      );\n    }\n    refs.allCategoryContainer.insertAdjacentElement(\n      'beforeend',\n      categoryContainer\n    );\n  }\n  seeMoreButtonsHandler();\n  imageButtonsHandler();\n}\n//------------------Фукнція рендера карток\n\nrenderFetch();\n","const btn = document.getElementById(\"open-modal\");\n\n// Функція для отримання даних з API\nasync function getBookInfo(id) {\n    try {\n        const response = await fetch(`https://books-backend.p.goit.global/books/${id}`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(error);\n    }\n}\n\n// Функція для відкриття модального вікна та заповнення його даними з API\nbtn.onclick = function openModal(id) {\n    const modal = document.getElementById(\"modal\");\n    const bookInfo = document.getElementById(\"bookInfo\");\n\n    // Очистити попередні дані, якщо такі є\n    bookInfo.innerHTML = \"\";\n\n    // Отримати дані з API та заповнити їх у модальному вікні\n    getBookInfo(id).then((data) => {\n        const title = document.createElement(\"h3\");\n        title.innerText = data.title;\n\n        const author = document.createElement(\"p\");\n        author.innerText = `Автор: ${data.author}`;\n\n        const description = document.createElement(\"p\");\n        description.innerText = `Опис: ${data.description}`;\n\n        bookInfo.appendChild(title);\n        bookInfo.appendChild(author);\n        bookInfo.appendChild(description);\n    });\n\n    // Відобразити модальне вікно\n    modal.style.display = \"block\";\n\n    // Додати обробник події на кнопку закриття модального вікна\n    const closeButton = document.getElementsByClassName(\"close\")[0];\n    closeButton.onclick = function () {\n        modal.style.display = \"none\";\n    };\n}\n\nwindow.onclick = function (event) {\n    if (event.target == modal) {\n        modal.style.display = \"none\";\n    }\n}\n\nwindow.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n        modal.style.display = \"none\";\n    }\n});"],"names":["parcelRequire","$f3b06000f9b46fbb$var$refs","categoriesList","document","querySelector","style","listStyle","fetch","then","response","json","data","array","map","list_name","insertAdjacentHTML","join","console","log","refs","openMenuBtn","closeMenuBtn","menu","body","toggleMenu","classList","toggle","addEventListener","menuList","add","remove","$cba43eba05963282$var$refs","allCategoryContainer","cardsQuantityByCategory","tabletWidth","$cba43eba05963282$var$checkWindowWidth","documentElement","clientWidth","$cba43eba05963282$var$fetchedArrayByTop","async","$cba43eba05963282$var$fetchBook","item","value","books","filter","rank","$cba43eba05963282$var$mobileRenderByTop","obj","cardMarkup","book_image","_id","title","author","$cba43eba05963282$var$tabletRenderByTop","promise","i","length","currentCategory","categoryContainer","createElement","category","insertAdjacentElement","buttonsList","querySelectorAll","button","e","localStorage","setItem","target","dataset","getItem","$cba43eba05963282$var$seeMoreButtonsHandler","imageList","image","id","$cba43eba05963282$var$imageButtonsHandler","$cba43eba05963282$var$renderFetch","getElementById","onclick","modal","bookInfo","innerHTML","error","$1aa81d6d0cd85e48$var$getBookInfo","innerText","description","appendChild","display","getElementsByClassName","window","event","key"],"version":3,"file":"index.f24ac92f.js.map"}