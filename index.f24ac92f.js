var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("fF5e9"),o("lsbs5");const a={categoriesList:document.querySelector(".categories__list")};a.categoriesList.style.listStyle="none";fetch("https://books-backend.p.goit.global/books/category-list").then((e=>e.json())).then((e=>{const t=e.map((({list_name:e})=>`<li class = "categories__item"><a href = "" class = "categories__link">${e}</a></li>`));return a.categoriesList.insertAdjacentHTML("beforeend",t.join("")),console.log(t),t}));o("k5Ix5"),(()=>{const e={openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),body:document.querySelector("body")};function t(){e.menu.classList.toggle("is-hidden"),e.body.classList.toggle("no-scroll")}e.openMenuBtn.addEventListener("click",t),e.closeMenuBtn.addEventListener("click",t),e.menuList.addEventListener("click",(function(){e.menu.classList.add("is-hidden"),e.body.classList.remove("no-scroll")}))})();const l={allCategoryContainer:document.querySelector(".bestSellers__container"),cardsQuantityByCategory:1,tabletWidth:768};function c(){return document.documentElement.clientWidth}const i=async()=>{c()>=l.tabletWidth&&(l.cardsQuantityByCategory=3);return await(async()=>{const e=await fetch("https://books-backend.p.goit.global/books/top-books");return await e.json()})().then((e=>e.map((e=>e.books.filter((e=>e.rank<=l.cardsQuantityByCategory))))))};function r(e){return l.cardMarkup=`\n    <ul class='shop-card'>\n    <li class='shop-card__category'>${e.list_name}</li>\n    <li class='image-block'>\n        <img class='image-block__image' src='${e.book_image}' data-id='${e._id}'/>\n    </li>\n    <ul class='shop-card__meta'>\n      <li class='shop-card__title'>${e.title}</li>\n      <li class='shop-card__author'>${e.author}</li>\n    </ul\n    <li><button class='button' type='button' data-category='${e.list_name}'>See more</button>\n    </li>\n    </ul>\n  `}function s(e){return l.cardMarkup=`\n    <ul class='shop-card'>\n    <li class='image-block'>\n    <img class='image-block__image' src='${e.book_image}' data-id='${e._id}'/>\n    </li>\n    <ul class='shop-card__meta'>\n      <li class='shop-card__title'>${e.title}</li>\n      <li class='shop-card__author'>${e.author}</li>\n    </ul\n    \n    </li>\n    </ul>\n  `}!async function(){promise=await i();for(let t=0;t<promise.length;t++){let n;categoryContainer=document.createElement("div"),categoryContainer.classList.add("category-container"),promise[t].map((e=>{n=e.list_name,c()>=l.tabletWidth?(s(e),categoryContainer.insertAdjacentHTML("beforeend",l.cardMarkup)):(r(e),categoryContainer.insertAdjacentHTML("beforeend",l.cardMarkup))})),c()>=l.tabletWidth&&(categoryContainer.insertAdjacentHTML("afterbegin",`<h3 class="category-title">${n}</h3>`),categoryContainer.insertAdjacentHTML("beforeend",(e=n,l.cardMarkup=`\n    <button class='button' type='button' data-category='${e}'>See more</button>\n  `))),l.allCategoryContainer.insertAdjacentElement("beforeend",categoryContainer)}var e;!function(){let e=document.querySelectorAll(".button");for(button of e)button.addEventListener("click",(e=>{localStorage.setItem("selected-category",e.target.dataset.category),console.log("Вибрана категорія:",localStorage.getItem("selected-category"))}))}(),function(){let e=document.querySelectorAll(".image-block__image");for(image of e)image.addEventListener("click",(e=>{localStorage.setItem("selected-id",e.target.dataset.id),console.log("Вибрана книга з ID:",localStorage.getItem("selected-id"))}))}()}();document.getElementById("open-modal").onclick=function(e){const t=document.getElementById("modal"),n=document.getElementById("bookInfo");n.innerHTML="",async function(e){try{const t=await fetch(`https://books-backend.p.goit.global/books/${e}`);return await t.json()}catch(e){console.error(e)}}(e).then((e=>{const t=document.createElement("h3");t.innerText=e.title;const o=document.createElement("p");o.innerText=`Автор: ${e.author}`;const a=document.createElement("p");a.innerText=`Опис: ${e.description}`,n.appendChild(t),n.appendChild(o),n.appendChild(a)})),t.style.display="block";document.getElementsByClassName("close")[0].onclick=function(){t.style.display="none"}},window.onclick=function(e){e.target==modal&&(modal.style.display="none")},window.addEventListener("keydown",(e=>{"Escape"===e.key&&(modal.style.display="none")}));
//# sourceMappingURL=index.f24ac92f.js.map
