{"mappings":"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","sources":["src/js/categories.js","src/js/bestsellers.js","src/js/modal-window.js","src/js/card-books.js"],"sourcesContent":["const refs = {\n  categoriesList: document.querySelector('.categories__list'),\n};\n\nconst fetchArray = fetch(\n  'https://books-backend.p.goit.global/books/category-list'\n)\n  .then(response => response.json())\n  .then(data => {\n    const array = data.map(({ list_name }) => {\n      return `<li class = \"categories__item\"><a href = \"#\" data-category = \"${list_name}\" class = \"categories__link\">${list_name}</a></li>`;\n    });\n    refs.categoriesList.insertAdjacentHTML('beforeend', array.join(''));\n    console.log(array);\n    return array;\n  });\n","//------------------Імпорт пакетів/стилі/шаблонів\nimport {\n  cardRenderByTop,\n  cardRenderByCat,\n  renderButton,\n  imageButtonsHandler,\n} from './card-books.js';\n//------------------Імпорт пакетів/стилі/шаблонів\n\n//------------------Змінні\nconst refs = {\n  allCategoryContainer: document.querySelector('.bestSellers__container'),\n  bestsellerContainer: document.querySelector('.bestSellers'),\n  sectionTitle: document.querySelector('.section-title'),\n  cardsQuantityByCategory: 1,\n  tabletWidth: 768,\n  pcWidth: 1440,\n};\n\n//------------------Змінні\n\n//------------------Додаткові функції\nfunction changeTitleColors(string) {\n  let arrayFromString = string.split(' ');\n  let tempString = string.substr(arrayFromString[0].length);\n  let result = `<span class=\"section-title\">${arrayFromString[0]}</span>\n  <span class='section-title--highlight'>${tempString}</span>`;\n  return result;\n}\n\nfunction isCategorySelected() {\n  if (\n    localStorage.getItem('selected-category') &&\n    localStorage.getItem('selected-category') != 'undefined'\n  ) {\n    return true;\n  }\n  return false;\n}\nfunction checkWindowWidth() {\n  return document.documentElement.clientWidth;\n}\nfunction reloadPage() {\n  let currentRenderWidth;\n  if (checkWindowWidth() < 768) {\n    currentRenderWidth = 375;\n  } else if (checkWindowWidth() >= 768 && checkWindowWidth() < 1440) {\n    currentRenderWidth = 768;\n  } else {\n    currentRenderWidth = 1440;\n  }\n  addEventListener('resize', event => {\n    if (\n      (window.innerWidth > 767 && currentRenderWidth < 768) ||\n      (window.innerWidth > 1439 && currentRenderWidth < 1440) ||\n      (window.innerWidth < 1440 && currentRenderWidth > 1439) ||\n      (window.innerWidth < 768 && currentRenderWidth > 767)\n    ) {\n      location.reload();\n    }\n  });\n}\n\nfunction seeMoreButtonsHandler() {\n  let buttonsList = document.querySelectorAll('.button__see-more');\n  for (button of buttonsList) {\n    button.addEventListener('click', e => {\n      localStorage.setItem('selected-category', e.target.dataset.category);\n      renderDOM();\n    });\n  }\n}\n\nfunction categoriesLinksHandler() {\n  let linksList = document.querySelectorAll('.categories__item');\n  for (link of linksList) {\n    link.addEventListener('click', e => {\n      if (\n        localStorage.getItem('selected-category') === e.target.dataset.category\n      ) {\n        return;\n      }\n      localStorage.setItem('selected-category', e.target.dataset.category);\n      renderDOM();\n    });\n  }\n}\n//------------------Додаткові функції\n\n//------------------Запрос на API\nconst fetchBook = async () => {\n  if (isCategorySelected()) {\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/category?category=${localStorage.getItem(\n        'selected-category'\n      )}`\n    );\n    const book = await response.json();\n    return book;\n  } else {\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/top-books`\n    );\n    const book = await response.json();\n    return book;\n  }\n};\n//------------------Запрос на API\n\n//------------------Функція запроса даних по ТОП книгам в категорії\nconst fetchedArrayByTop = async () => {\n  cardsQuantityByCategory = 1;\n  if (checkWindowWidth() >= refs.tabletWidth) {\n    refs.cardsQuantityByCategory = 3;\n  }\n  if (checkWindowWidth() >= refs.pcWidth) {\n    refs.cardsQuantityByCategory = 5;\n  }\n  if (isCategorySelected()) {\n    const data = await fetchBook().then(item => {\n      const result = item.map(value => {\n        return value;\n      });\n      return result;\n    });\n    return data;\n  } else {\n    const data = await fetchBook().then(item => {\n      const result = item.map(value => {\n        const filteredByRank = value.books.filter(data => {\n          return data.rank <= refs.cardsQuantityByCategory;\n        });\n        return filteredByRank;\n      });\n      return result;\n    });\n    return data;\n  }\n};\n//------------------Функція запроса даних по ТОП книгам в категорії\n\n//------------------Фукнція рендера карток\nasync function renderFetchByTop() {\n  promise = await fetchedArrayByTop();\n\n  let currentCategory;\n  refs.sectionTitle.innerHTML = '';\n  refs.sectionTitle.insertAdjacentHTML(\n    'afterbegin',\n    `<span>BestSellers<span><span class=\"section-title--highlight\">Books</span>`\n  );\n  for (let i = 0; i < promise.length; i++) {\n    categoryContainer = document.createElement('div');\n    categoryContainer.classList.add('category-container');\n\n    promise[i].map(obj => {\n      currentCategory = obj.list_name;\n      cardRenderByTop(obj);\n      categoryContainer.insertAdjacentHTML('beforeend', cardMarkup);\n    });\n    categoryContainer.insertAdjacentHTML(\n      'afterbegin',\n      `<h3 class=\"category-title\">${currentCategory}</h3>`\n    );\n    categoryContainer.insertAdjacentHTML(\n      'beforeend',\n      renderButton(currentCategory)\n    );\n\n    refs.allCategoryContainer.insertAdjacentElement(\n      'beforeend',\n      categoryContainer\n    );\n  }\n  seeMoreButtonsHandler();\n  imageButtonsHandler();\n  categoriesLinksHandler();\n}\nasync function renderFetchByCat() {\n  promise = await fetchedArrayByTop();\n  categoryContainer = document.createElement('div');\n  categoryContainer.classList.add('category-container');\n  for (let i = 0; i < promise.length; i++) {\n    cardRenderByCat(promise[i]);\n    categoryContainer.insertAdjacentHTML('beforeend', cardMarkup);\n  }\n  refs.allCategoryContainer.insertAdjacentElement(\n    'beforeend',\n    categoryContainer\n  );\n  seeMoreButtonsHandler();\n  imageButtonsHandler();\n  categoriesLinksHandler();\n}\nasync function renderDOM() {\n  refs.allCategoryContainer.innerHTML = '';\n  if (isCategorySelected()) {\n    refs.sectionTitle.innerHTML = '';\n    refs.sectionTitle.insertAdjacentHTML(\n      'afterbegin',\n      changeTitleColors(localStorage.getItem('selected-category'))\n    );\n    renderFetchByCat();\n  } else {\n    renderFetchByTop();\n  }\n}\n//------------------Фукнція рендера карток\n\nrenderDOM();\nreloadPage();\n","let idFromBook;\n\nconst fetchUsers = async id => {\n  idFromBook = id;\n\n  const response = await fetch(\n    `https://books-backend.p.goit.global/books/${id}`\n  );\n  const users = await response.json();\n  console.log(users);\n  return users;\n};\n\nconst amazonPic = new URL(import.meta.url);\nconst applebooksPic = new URL(import.meta.url);\nconst bookstore_shopPic = new URL(import.meta.url);\n\nconst modalBtnAddRemove = document.querySelector('#pop-btn');\n\n// Функція для відкриття модального вікна та заповнення його даними з API\nexport function openModal(id) {\n  // const bookInfo = document.getElementById('bookInfo')\n  const bookId = fetchUsers(id);\n  bookId.then(id => {\n    bookInfo.insertAdjacentHTML(\n      'afterbegin',\n      `<li class=\"shopping-carg ${id._id}\" >\n                    <img class=\"shopping-carg-image\" src=\"${\n                      id.book_image\n                    }\" alt=\"\" />\n                    <div class=\"\">\n                        <div class=\"\">\n                            <div>\n                                <h2 class=\"shopping-carg-book-title\">${\n                                  id.title\n                                }</h2>\n                                <p class=\"shopping-carg-book-author\">${\n                                  id.author\n                                }</p>\n                                <p class=\"shopping-carg-book-description\">${\n                                  id.description || 'There is no description'\n                                }</p>\n                            </div>\n                        </div>\n                    </div>\n                </li>`\n    );\n\n    id.buy_links.map(el => {\n      if (el.name === 'Amazon') {\n        bookInfo.insertAdjacentHTML(\n          'beforeend',\n          `<li class=\"pop_shop-item\">\n                            <a\n                            class=\"pop_shop__link link\"\n                            href=\"${el.url}\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            ><img\n                                class=\"pop_list-img\"\n                                src=\"${amazonPic}\" \n                                alt=\"amazon_shop_icon\"/>\n                            </a>\n                        </li>`\n        );\n      }\n      if (el.name === 'Apple Books') {\n        bookInfo.insertAdjacentHTML(\n          'beforeend',\n          `<li class=\"pop_shop-item\">\n                    <a\n                    class=\"pop_shop__link link\"\n                    href=\"${el.url}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    ><img\n                        class=\"pop_list-img\"\n                        src=\"${applebooksPic}\" \n                        alt=\"applebooks_shop_icon\"\n                    />\n                    </a>\n                </li>`\n        );\n      }\n      if (el.name === 'Bookshop') {\n        bookInfo.insertAdjacentHTML(\n          'beforeend',\n          `<li class=\"pop_shop-item\">\n                    <a\n                    class=\"pop_shop__link link\"\n                    href=\"${el.url}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    ><img\n                        class=\"pop_list-img\"\n                        src=\"${bookstore_shopPic}\" \n                        alt=\"bookstore_shop_icon\"\n                    />\n                    </a>\n                    </li>\n                    `\n        );\n      }\n    });\n  });\n\n  // Відобразити модальне вікно\n  modal.style.display = 'block';\n\n  // Додати обробник події на кнопку закриття модального вікна\n  const closeButton = document.getElementsByClassName('close')[0];\n  closeButton.onclick = function () {\n    modal.style.display = 'none';\n    bookInfo.innerHTML = '';\n  };\n}\n\nwindow.onclick = function (event) {\n  if (event.target == modal) {\n    modal.style.display = 'none';\n    bookInfo.innerHTML = '';\n  }\n};\n\nwindow.addEventListener('keydown', event => {\n  if (event.key === 'Escape') {\n    modal.style.display = 'none';\n    bookInfo.innerHTML = '';\n  }\n});\n\nmodalBtnAddRemove.addEventListener('click', event => {\n  const dataFromLocalStorage = localStorage.getItem('User-name');\n  const parsedDataFromLocalStorage = JSON.parse(dataFromLocalStorage);\n  //   console.log(parsedDataFromLocalStorage.listId);\n  console.log(parsedDataFromLocalStorage.name);\n  console.log(parsedDataFromLocalStorage.email);\n  const name = parsedDataFromLocalStorage.name;\n  const email = parsedDataFromLocalStorage.email;\n  parsedDataFromLocalStorage.listId.push(idFromBook);\n  localStorage.setItem(\n    'User-name',\n    JSON.stringify({\n      name: name,\n      email: email,\n      listId: parsedDataFromLocalStorage.listId,\n    })\n  );\n  let buttton = event.target.innerHTML;\n  //   console.log(buttton);\n  const addbtn = 'Add to shopping list';\n  const removebtn = 'Remove from the shopping list';\n\n  if (modalBtnAddRemove.innerHtml === addbtn) {\n    modalBtnAddRemove.innerHtml = removebtn;\n  } else {\n    modalBtnAddRemove.innerHtml = addbtn;\n  }\n});\n\n// modalBtnAddRemove.addEventListener('click', event => {\n//   //   modalBtnAddRemove.innerHTML = 'Remove from Shopping List';\n//   if (event.target.innerHtml === 'Add to shopping list') {\n//     event.target.innerHtml === 'Remove from the shopping list';\n//   } else {\n//     event.target.innerHtml = 'Add to shopping list';\n//   }\n// });\n","import { openModal } from './modal-window';\nexport { cardRenderByTop, cardRenderByCat, renderButton, imageButtonsHandler };\n\n//------------------Шаблон рендера карток\nfunction cardRenderByTop(obj) {\n  return (cardMarkup = `\n      <ul class='bestseller-card'>\n      <div class = 'thumb'>\n         <img class='thumb__image' src='${obj.book_image}' data-id='${obj._id}'/>\n      <div class=\"thumb__overlay\">\n              <p class=\"thumb__overlay-tex\">QUICK VIEW</p>\n            </div> </div>\n      </li>\n      <ul class='bestseller-card__meta'>\n        <li class='bestseller-card__title'>${obj.title}</li>\n        <li class='bestseller-card__author'>${obj.author}</li>\n      </ul\n      \n      </li>\n      </ul>\n    `);\n}\nfunction cardRenderByCat(obj) {\n  return (cardMarkup = `\n      <ul class='bestseller-card --margin'>\n      <div class = 'thumb'>\n         <img class='thumb__image' src='${obj.book_image}' data-id='${obj._id}'/>\n      <div class=\"thumb__overlay\">\n              <p class=\"thumb__overlay-text\">QUICK VIEW</p>\n            </div> </div>\n      </li>\n      <ul class='bestseller-card__meta'>\n        <li class='bestseller-card__title'>${obj.title}</li>\n        <li class='bestseller-card__author'>${obj.author}</li>\n      </ul\n      \n      </li>\n      </ul>\n    `);\n}\nfunction renderButton(category) {\n  return (cardMarkup = `\n    <button class='button__see-more' type='button' data-category='${category}'>See more</button>\n  `);\n}\nfunction imageButtonsHandler() {\n  let imageList = document.querySelectorAll('.thumb__image');\n  for (image of imageList) {\n    image.addEventListener('click', e => {\n      // localStorage.setItem('selected-id', e.target.dataset.id);\n      console.log('dasdsadsa:', e.target.dataset.id);\n      //console.log('Вибрана книга з ID:', localStorage.getItem('selected-id'));\n      openModal(e.target.dataset.id);\n    });\n  }\n}\n"],"names":["$7035cf87bda54340$var$refs","categoriesList","document","querySelector","fetch","then","response","json","data","array","map","param","list_name","concat","insertAdjacentHTML","join","console","log","$50be0534152dd275$var$idFromBook","$bpxeT","parcelRequire","$50be0534152dd275$var$fetchUsers","$parcel$interopDefault","$2TvXO","mark","_callee","id","users","_ctx","sent","$50be0534152dd275$var$amazonPic","URL","$50be0534152dd275$var$applebooksPic","$50be0534152dd275$var$bookstore_shopPic","$50be0534152dd275$var$modalBtnAddRemove","$bb41f0161d5a9402$export$d433905d0c2a957b","obj","cardMarkup","book_image","_id","title","author","$bb41f0161d5a9402$export$b191d5978e80d120","$bb41f0161d5a9402$export$9b8b2ad360b4fa1b","category","$bb41f0161d5a9402$export$44cf0dba34b90ce0","imageList","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","image","value","addEventListener","e","id1","target","dataset","bookInfo","description","buy_links","el","name","url","modal","style","display","getElementsByClassName","onclick","innerHTML","err","return","window","event","key","dataFromLocalStorage","localStorage","getItem","parsedDataFromLocalStorage","JSON","parse","email","listId","push","setItem","stringify","addbtn","innerHtml","$a102954a56e30d1d$var$refs","allCategoryContainer","bestsellerContainer","sectionTitle","cardsQuantityByCategory","tabletWidth","pcWidth","$a102954a56e30d1d$var$changeTitleColors","string","arrayFromString","split","tempString","substr","length","$a102954a56e30d1d$var$isCategorySelected","$a102954a56e30d1d$var$checkWindowWidth","documentElement","clientWidth","$a102954a56e30d1d$var$seeMoreButtonsHandler","buttonsList","button","$a102954a56e30d1d$var$renderDOM","$a102954a56e30d1d$var$categoriesLinksHandler","linksList","link","currentRenderWidth","$a102954a56e30d1d$var$fetchBook","book","response1","book1","$a102954a56e30d1d$var$fetchedArrayByTop","data2","data1","item","books","filter","rank","$a102954a56e30d1d$var$renderFetchByTop","$a102954a56e30d1d$var$_renderFetchByTop","apply","this","arguments","currentCategory","i","promise","categoryContainer","createElement","classList","add","insertAdjacentElement","$a102954a56e30d1d$var$renderFetchByCat","$a102954a56e30d1d$var$_renderFetchByCat","$a102954a56e30d1d$var$_renderDOM","innerWidth","location","reload"],"version":3,"file":"index.d20f4231.js.map"}