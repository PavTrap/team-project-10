function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r.register("kyEFX",(function(t,o){var n,r;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)a[t[o]]=e[t[o]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"5ZPII":"index.d0d813cc.js","bslXZ":"Save_children-2x.688b6dc7.png","hWa0f":"project-hope2x.5ac714fa.png","4ZZtZ":"imc-2x.2c438457.png","5BQo0":"msf-2x.89950815.png","11Jrw":"razom-2x.49347143.png","3q9Eu":"AAH-2x.b350b402.png","iIxtT":"united-2x.d41967f5.png","kQFLA":"world-vision-2x.39ac4395.png","feW4m":"prytula-2x.b3afcdef.png"}'));const a={categoriesList:document.querySelector(".categories__list")};a.categoriesList.style.listStyle="none";fetch("https://books-backend.p.goit.global/books/category-list").then((e=>e.json())).then((e=>{const t=e.map((({list_name:e})=>`<li class = "categories__item"><a href = "#" data-category = "${e}" class = "categories__link">${e}</a></li>`));return a.categoriesList.insertAdjacentHTML("beforeend",t.join("")),console.log(t),t}));const l=document.querySelector(".modal-start"),i=document.querySelector(".backdrop-start"),s=document.querySelector('label[for="user_person"]');console.log(s);const c=document.querySelector("#user_person");console.log(c);const d=document.querySelector('label[for="user_email"]'),u=document.querySelector("#user_email"),g=document.querySelector('label[for="user_password"]'),m=document.querySelector("#user_password");c.addEventListener("focus",(e=>console.log(s.style.top="5%"))),u.addEventListener("focus",(e=>console.log(d.style.top="5%"))),m.addEventListener("focus",(e=>console.log(g.style.top="5%"))),l.addEventListener("submit",(function(e){e.preventDefault(),function(){let e=!0;return""===c.value.trim()?(c.classList.add("modal-form__field-input--error"),e=!1):c.classList.remove("modal-form__field-input--error"),""!==u.value.trim()&&u.checkValidity()?u.classList.remove("modal-form__field-input--error"):(u.classList.add("modal-form__field-input--error"),e=!1),""===m.value.trim()||m.length<5||m.value.length>12?(m.classList.add("modal-form__field-input--error"),e=!1):m.classList.remove("modal-form__field-input--error"),e}()?(console.log("Form send!"),i.classList.add("is-hidden-start"),i.style.display="none"):console.log("Error!")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(l.style.display="none",i.style.display="none")})),(()=>{const e={openModalBtn:document.querySelector("button[data-modal-start-open--sing-up]"),closeModalBtn:document.querySelector("button[data-modal-start-close]"),modal:document.querySelector("[data-modal-start]")};function t(){e.modal.classList.toggle("is-hidden-start")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})(),(()=>{const e={openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),body:document.querySelector("body")};function t(){e.menu.classList.toggle("mobile-is-hidden"),e.body.classList.toggle("no-scroll")}e.openMenuBtn.addEventListener("click",t),e.closeMenuBtn.addEventListener("click",t)})();var y;y=new URL(r("kyEFX").resolve("bslXZ"),import.meta.url).toString();var f;f=new URL(r("kyEFX").resolve("hWa0f"),import.meta.url).toString();var p;p=new URL(r("kyEFX").resolve("4ZZtZ"),import.meta.url).toString();var b;b=new URL(r("kyEFX").resolve("5BQo0"),import.meta.url).toString();var _;_=new URL(r("kyEFX").resolve("11Jrw"),import.meta.url).toString();var h;h=new URL(r("kyEFX").resolve("3q9Eu"),import.meta.url).toString();var S;S=new URL(r("kyEFX").resolve("iIxtT"),import.meta.url).toString();var k;k=new URL(r("kyEFX").resolve("kQFLA"),import.meta.url).toString();var L;L=new URL(r("kyEFX").resolve("feW4m"),import.meta.url).toString();const w=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:new URL(y)},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:new URL(f)},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:new URL(p)},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:new URL(b)},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:new URL(_)},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:new URL(h)},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:new URL(S)},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:new URL(k)},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:new URL(L)}];document.querySelector(".foundation__list").innerHTML=w.map(((e,t)=>{const{title:o,url:n,img:r}=e;return`<li class= 'foundation__item'> \n        <p class = "foundation__count"> ${(t+1).toString().padStart(2,"0")} </p>\n        <a href="${n}" "foundation__link">\n        <img class="foundation__img" src="${r}" alt="${o}" width=110 height=33>\n        </a>\n        </li>`})).join("");const v=document.querySelector(".foundation__btn"),E=document.querySelectorAll(".foundation__item");v.addEventListener("click",(function(){H?(q-=3,q<0&&(q=0,H=!1,v.querySelector(".btnLoadMore__icon").style.transform="")):(q+=3,q>=E.length&&(q=E.length-2,H=!0,v.querySelector(".btnLoadMore__icon").style.transform="rotate(270deg)"));E.forEach((function(e){e.style.transform=`translateY(-${40*q}px)`}))}));let q=0,H=!1;const M={allCategoryContainer:document.querySelector(".bestSellers__container"),bestsellerContainer:document.querySelector(".bestSellers"),sectionTitle:document.querySelector(".section-title"),cardsQuantityByCategory:1,tabletWidth:768,pcWidth:1440};function R(){return!(!localStorage.getItem("selected-category")||"undefined"==localStorage.getItem("selected-category"))}function A(){return document.documentElement.clientWidth}function C(){let e=document.querySelectorAll(".button");for(button of e)button.addEventListener("click",(e=>{localStorage.setItem("selected-category",e.target.dataset.category),console.log("Вибрана категорія:",localStorage.getItem("selected-category")),x()}))}function F(){let e=document.querySelectorAll(".image-block__image");for(image of e)image.addEventListener("click",(e=>{localStorage.setItem("selected-id",e.target.dataset.id),console.log("Вибрана книга з ID:",localStorage.getItem("selected-id"))}))}function I(){let e=document.querySelectorAll(".categories__item");for(link of e)link.addEventListener("click",(e=>{console.log(e.target),localStorage.setItem("selected-category",e.target.dataset.category),console.log("Вибрана категорія:",localStorage.getItem("selected-category")),x()}))}const T=async()=>{if(R()){const e=await fetch(`https://books-backend.p.goit.global/books/category?category=${localStorage.getItem("selected-category")}`);return await e.json()}{const e=await fetch("https://books-backend.p.goit.global/books/top-books");return await e.json()}},U=async()=>{if(cardsQuantityByCategory=1,A()>=M.tabletWidth&&(M.cardsQuantityByCategory=3),A()>=M.pcWidth&&(M.cardsQuantityByCategory=5),R()){return await T().then((e=>e.map((e=>e))))}return await T().then((e=>e.map((e=>e.books.filter((e=>e.rank<=M.cardsQuantityByCategory))))))};function j(e){return M.cardMarkup=`\n    <ul class='bestseller-card'>\n    <li class='image-block'>\n    <img class='image-block__image' src='${e.book_image}' data-id='${e._id}'/>\n    </li>\n    <ul class='bestseller-card__meta'>\n      <li class='bestseller-card__title'>${e.title}</li>\n      <li class='bestseller-card__author'>${e.author}</li>\n    </ul\n    \n    </li>\n    </ul>\n  `}async function x(){M.allCategoryContainer.innerHTML="",R()?(M.sectionTitle.innerHTML="",M.sectionTitle.insertAdjacentHTML("afterbegin",function(e){let t=e.split(" "),o=e.substr(t[0].length);return`<span class="section-title">${t[0]}</span><span class='section-title--highlight'>${o}</span>`}(localStorage.getItem("selected-category"))),async function(){promise=await U(),categoryContainer=document.createElement("div"),categoryContainer.classList.add("category-container");for(let t=0;t<promise.length;t++)e=promise[t],M.cardMarkup=`\n    <ul class='bestseller-card --margin'>\n    <li class='image-block'>\n    <img class='image-block__image' src='${e.book_image}' data-id='${e._id}'/>\n    </li>\n    <ul class='bestseller-card__meta'>\n      <li class='bestseller-card__title'>${e.title}</li>\n      <li class='bestseller-card__author'>${e.author}</li>\n    </ul\n    \n    </li>\n    </ul>\n  `,categoryContainer.insertAdjacentHTML("beforeend",M.cardMarkup);var e;M.allCategoryContainer.insertAdjacentElement("beforeend",categoryContainer),C(),F(),I()}()):async function(){let e;promise=await U(),M.sectionTitle.innerHTML="",M.sectionTitle.insertAdjacentHTML("afterbegin",'<span>BestSellers<span><span class="section-title--highlight">Books</span>');for(let o=0;o<promise.length;o++)categoryContainer=document.createElement("div"),categoryContainer.classList.add("category-container"),promise[o].map((t=>{e=t.list_name,j(t),categoryContainer.insertAdjacentHTML("beforeend",M.cardMarkup)})),categoryContainer.insertAdjacentHTML("afterbegin",`<h3 class="category-title">${e}</h3>`),categoryContainer.insertAdjacentHTML("beforeend",(t=e,M.cardMarkup=`\n    <button class='button' type='button' data-category='${t}'>See more</button>\n  `)),M.allCategoryContainer.insertAdjacentElement("beforeend",categoryContainer);var t;C(),F(),I()}()}x(),addEventListener("resize",(e=>{location.reload()}));const $=document.querySelector(".switch__input");console.log($);"dark"==localStorage.getItem("theme")&&document.body.classList.add("theme-dark"),$.addEventListener("click",(function(){document.body.classList.toggle("theme-dark");let e="light";document.body.classList.contains("theme-dark")&&(e="dark"),localStorage.setItem("theme",e)}));document.querySelector("#tui-pagination-container"),document.querySelector("#info-block");let B=["643282b1e85766588626a080","643282b1e85766588626a0ba","643282b1e85766588626a085","643282b1e85766588626a0b2","643282b1e85766588626a086"];if(localStorage.setItem("listID",JSON.stringify(B)),null===localStorage.getItem("listID")){let e=[];localStorage.setItem("listID",JSON.stringify(e))}const X=localStorage.getItem("listID");B=JSON.parse(X);B.length,Math.ceil(B.length/3-1);
//# sourceMappingURL=index.d0d813cc.js.map
