var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},o={},t=n.parcelRequired7c6;null==t&&((t=function(n){if(n in e)return e[n].exports;if(n in o){var t=o[n];delete o[n];var s={id:n,exports:{}};return e[n]=s,t.call(s.exports,s,s.exports),s.exports}var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(n,e){o[n]=e},n.parcelRequired7c6=t),t.register("k5Ix5",(function(n,e){const o=document.querySelector("#info-block");if(null===localStorage.getItem("shoppingList")){console.log("5555555");let n=[];localStorage.setItem("shoppingList",JSON.stringify(n))}const t=localStorage.getItem("shoppingList");shoppingList=JSON.parse(t),localStorage.removeItem("shoppingList"),shoppingList=[];fetch("https://books-backend.p.goit.global/books/top-books").then((n=>n.json())).then((n=>{n.map((({books:n})=>{for(let e=0;e<2;e++){let o=n[e];shoppingList.push(o)}})),localStorage.setItem("shoppingList",JSON.stringify(shoppingList));const e=localStorage.getItem("shoppingList");s(JSON.parse(e))}));function s(n){console.log(n.length),0===n.length?function(){l();const n='<li><p>"This page is empty, add some books and proceed to order."</p><img src="./images/IMG_9606 1.png" alt=""></li>';o.insertAdjacentHTML("afterbegin",n)}():n.length>=0&&function(n){l();let e="",t="",i="";for(let s=0;s<n.length;s++){const l=n[s];let a=l.buy_links;for(let n=0;n<a.length;n++)"Amazon"===a[n].name&&(e=a[n].url),"Apple Books"===a[n].name&&(t=a[n].url),"Bookshop"===a[n].name&&(i=a[n].url);const r=`<li class="book-card ${l._id}" >\n      <img src="${l.book_image}" alt="" />\n      <div class="info">\n        <div class="header-card">\n          <div>\n            <h2>${l.title}</h2>\n            <p>${l.list_name}</p>\n          </div>\n          <button class="button" data-index="${s}">\n            <img src="./images/dump.png" alt="" />\n          </button>\n        </div>\n        <p>${l.description}</p>\n        <div class="footer-card">\n          <p>${l.author}</p>\n          <ul class="book-shops">\n            <li>\n              <a\n                class="book-shop"\n                href="${e}"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Amazon"\n              >\n                <img src="./images/amazon.png" alt="Іконка Amazon" />\n              </a>\n            </li>\n            <li>\n              <a\n                class="book-shop"\n                href="${t}"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Apple Books"\n              >\n                <img src="./images/openbook.png" alt="Іконка Apple Books" />\n              </a>\n            </li>\n            <li>\n              <a\n                class="book-shop"\n                href="${i}"\n                target="_blank"\n                rel="noopener noreferrer"\n                aria-label="Іконка Bookshop"\n              >\n                <img src="./images/bookshop.png" alt="Іконка Bookshop" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>`;o.insertAdjacentHTML("afterbegin",r)}document.querySelectorAll(".button").forEach((e=>{e.addEventListener("click",(()=>{const o=e.dataset.index;n.splice(o,1),localStorage.setItem("shoppingList",JSON.stringify(n)),console.log(n),s(n)}))}))}(n)}function l(){o.innerHTML=""}})),t("k5Ix5");
//# sourceMappingURL=shoppinglist.6edf9cb0.js.map
